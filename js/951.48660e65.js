"use strict";(globalThis["webpackChunklc_bot_admin_ui"]=globalThis["webpackChunklc_bot_admin_ui"]||[]).push([[951],{9951:(e,n,t)=>{t.r(n),t.d(n,{default:()=>_});var a=t(9835),l=t(1957);const s={class:"q-pa-md row justify-center"},u={class:"q-pa-md row justify-center"};function o(e,n,t,o,i,r){const c=(0,a.up)("q-chat-message"),d=(0,a.up)("q-spinner-dots"),m=(0,a.up)("q-scroll-area"),p=(0,a.up)("q-btn"),h=(0,a.up)("q-input"),v=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(v,null,{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a.Wm)(m,{style:{height:"70vh",width:"100%","max-width":"600px"},ref:"scrollAreaRef"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.conversation,((e,n)=>((0,a.wg)(),(0,a.j4)(c,{class:"q-pa-md",key:n,name:e.name,text:[e.text],sent:e.sent},null,8,["name","text","sent"])))),128)),e.running?((0,a.wg)(),(0,a.j4)(c,{key:0,name:"InSource"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{size:"2rem"})])),_:1})):(0,a.kq)("",!0)])),_:1},512)]),(0,a._)("div",u,[(0,a.Wm)(h,{style:{width:"100%","max-width":"600px"},filled:"",modelValue:e.message,"onUpdate:modelValue":n[0]||(n[0]=n=>e.message=n),onKeyup:(0,l.D2)(e.sendMessage,["enter"]),placeholder:"Type your message here"},{after:(0,a.w5)((()=>[(0,a.Wm)(p,{round:"",dense:"",flat:"",icon:"send",onClick:e.sendMessage},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])])])),_:1})}var i=t(499),r=function(e,n,t,a){function l(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,s){function u(e){try{i(a.next(e))}catch(n){s(n)}}function o(e){try{i(a["throw"](e))}catch(n){s(n)}}function i(e){e.done?t(e.value):l(e.value).then(u,o)}i((a=a.apply(e,n||[])).next())}))};const c=(0,a.aZ)({name:"ChatPage",components:{},setup(){let e=(0,i.iH)([]),n=(0,i.iH)(""),t=(0,i.iH)(!1);const a=(0,i.iH)(null),l=()=>r(this,void 0,void 0,(function*(){var l,s;e.value.push({name:"me",text:n.value,sent:!0}),t.value=!0,a.value&&(null===(l=a.value)||void 0===l||l.setScrollPercentage("vertical",2));const u=yield fetch(`${localStorage.getItem("chaturl")}/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n.value,id:"admin-ui-test"})}),o=yield u.json();n.value="",e.value.push({name:"InSource",text:o.result}),a.value&&(null===(s=a.value)||void 0===s||s.setScrollPercentage("vertical",2)),t.value=!1}));return{conversation:e,message:n,sendMessage:l,running:t,scrollAreaRef:a}}});var d=t(1639),m=t(9885),p=t(6663),h=t(396),v=t(7501),g=t(3119),f=t(9379),w=t(9984),y=t.n(w);const x=(0,d.Z)(c,[["render",o]]),_=x;y()(c,"components",{QPage:m.Z,QScrollArea:p.Z,QChatMessage:h.Z,QSpinnerDots:v.Z,QInput:g.Z,QBtn:f.Z})}}]);